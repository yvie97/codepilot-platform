# ---------------------------------------------------------------
# Claude API
# ---------------------------------------------------------------
# Key is read from the environment variable — never hardcode it.
anthropic.api-key=${ANTHROPIC_API_KEY:}

# ---------------------------------------------------------------
# DataSource (PostgreSQL)
# Start locally with: docker compose up -d  (in orchestrator/)
# ---------------------------------------------------------------
spring.datasource.url=jdbc:postgresql://localhost:5432/codepilot
spring.datasource.username=codepilot
spring.datasource.password=codepilot

# Let Flyway manage the schema; Hibernate only validates it.
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.open-in-view=false
spring.flyway.enabled=true

# ---------------------------------------------------------------
# Python executor service
# ---------------------------------------------------------------
codepilot.executor.base-url=http://localhost:8001

# ---------------------------------------------------------------
# Actuator — expose /actuator/health and /actuator/prometheus (§10)
# ---------------------------------------------------------------
management.endpoints.web.exposure.include=health,prometheus
management.endpoint.health.show-details=never
# Tag every metric with the application name for multi-service dashboards.
management.metrics.tags.application=codepilot-orchestrator

# ---------------------------------------------------------------
# Logging / misc
# ---------------------------------------------------------------
spring.main.banner-mode=off
logging.level.root=WARN
logging.level.com.codepilot=INFO
